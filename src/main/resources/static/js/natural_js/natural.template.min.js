/*
 Natural-TEMPLATE v0.1.11

 Released under the LGPL v2.1 license
 Date: 2019-02-28T18:00Z

 Copyright 2019 KIM HWANG MAN(bbalganjjm@gmail.com)
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(c,k,b){if(null==c)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(k instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return c+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,k,b){c!=Array.prototype&&c!=Object.prototype&&(c[k]=b.value)};$jscomp.getGlobal=function(c){c=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,c];for(var k=0;k<c.length;++k){var b=c[k];if(b&&b.Math==Math)return b}return globalThis};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(c,k,b,n){if(k){b=$jscomp.global;c=c.split(".");for(n=0;n<c.length-1;n++){var a=c[n];a in b||(b[a]={});b=b[a]}c=c[c.length-1];n=b[c];k=k(n);k!=n&&null!=k&&$jscomp.defineProperty(b,c,{configurable:!0,writable:!0,value:k})}};
$jscomp.polyfill("String.prototype.startsWith",function(c){return c?c:function(c,b){var k=$jscomp.checkStringArgs(this,c,"startsWith");c+="";var a=k.length,h=c.length;b=Math.max(0,Math.min(b|0,k.length));for(var f=0;f<h&&b<a;)if(k[b++]!=c[f++])return!1;return f>=h}},"es6","es3");$jscomp.findInternal=function(c,k,b){c instanceof String&&(c=String(c));for(var n=c.length,a=0;a<n;a++){var h=c[a];if(k.call(b,h,a,c))return{i:a,v:h}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,b){return $jscomp.findInternal(this,c,b).v}},"es6","es3");
(function(c,k){N.version["Natural-TEMPLATE"]="0.1.11";(function(b){var c=b.template={aop:{codes:function(a,h,f){var g={codeUrl:null,codeKey:null};try{k.extend(!0,g,b.context.attr("template").aop.codes)}catch(l){throw b.error("N.tab",l);}k.extend(!0,g,f);var p=[];f=[];var m=[];for(e in a)"string"===b.type(e)&&b.string.startsWith(e,"p.select.")&&("array"===b.type(a[e])&&0<a[e].length&&(a[e]=2<a[e].length?{comm:a[e][0],key:a[e][1],val:a[e][2],filter:a[e][3]}:{code:a[e][0],filter:a[e][1]}),a[e].code?
p.push(e.split(".")[2]+"|"+a[e].code):a[e].comm?f.push(e.split(".")[2]+"|"+a[e].comm):m.push(e.split(".")[2]+"|select__"));0<m.length&&b(m).each(function(d,c){d=c.split("|");var e=a["p.select."+d[0]];if(e.data)a["p.select."+d[0]]=b("[id='"+d[0]+"']",a.view).filter("select,input[type='checkbox'],input[type='radio']").map(function(a,d){e.context=d;e.filter&&(e.data=e.filter(e.data));a=b().select(e).bind();e.selected&&a.val(e.selected);return a}).get();else throw b.error(b.message.get(b.context.attr("template").message,
"MSG-0001"));});if(0<p.length||0<f.length){var d=[];if(0<p.length){var e=b(p).map(function(b,a){return a.split("|")[1]}).get();d.push(b({codes:null!=e&&0===e.length?void 0:e}).comm({url:g.codeUrl}).submit(function(d){b(p).each(function(c,e){var f=e.split("|"),h=a["p.select."+f[0]];a["p.select."+f[0]]=b("[id='"+f[0]+"']",a.view).filter("select,input[type='checkbox'],input[type='radio']").map(function(a,c){h.context=c;a=k.grep(d,function(a){return a[g.codeKey]===f[1]});a=b(h.filter?h.filter(a):a).select(h).bind();
h.selected&&a.val(h.selected);return a}).get()})}).error(function(a){b.warn(a);throw b.error(b.message.get(b.context.attr("template").message,"MSG-0002"));}).request.obj.xhr)}b(f).each(function(c,e){var f=e.split("|");if(!a[f[1]])throw b.error(b.message.get(b.context.attr("template").message,"MSG-0003",[f[1]]));d.push(a[f[1]]().submit(function(d){var c=a["p.select."+f[0]];a["p.select."+f[0]]=b("[id='"+f[0]+"']",a.view).filter("select,input[type='checkbox'],input[type='radio']").map(function(a,e){c.context=
e;a=b(c.filter?c.filter(d):d).select(c).bind();c.selected&&a.val(c.selected);return a}).get()}).error(function(a){b.warn(a);throw b.error(b.message.get(b.context.attr("template").message,"MSG-0004",[f[0]]));}).request.obj.xhr)});k.when.apply(k,d).done(function(){c.aop.template(a,h)})}else c.aop.template(a,h)},template:function(a,h){var f=[],g;for(g in a)"string"===b.type(g)&&b.string.startsWith(g,"p.")&&c.aop.components(a,g,f);for(g in a)"string"===b.type(g)&&b.string.startsWith(g,"e.")&&c.aop.events(a,
g);0<f.length&&(k(f).each(function(){this.resolve()}),f=void 0);h.proceed();setTimeout(function(){a.onOpenDefer&&a.onOpenDefer.resolve()},0)},components:function(a,c,f){var g=c.split(".");if(2<g.length){var h="p."+g[1]+"."+g[2],m=b("#"+g[2],a.view),d=a[h];void 0!==d&&void 0!==d.context&&(m=b(d.context,a.view));"popup"===g[1]&&"file"===g[2]&&(d.url="file/manager.view",d.top=20,d.onOpen="onOpen",d.overlayClose=!1,d.escClose=!1);if(void 0===d||0===m.length&&void 0===d.context&&0===m.length&&void 0===
d.url)throw b.error(b.message.get(b.context.attr("template").message,"MSG-0005",[a.view.data("pageid")+":"+c]));d.context=m;"button"===g[1]||"popup"===g[1]||"tab"===g[1]||"datepicker"===g[1]?((d.url&&"popup"===g[1]||"tab"===g[1])&&void 0===d.opener&&(d.opener=a),a[h]=d.context[g[1]](d)):"select"===g[1]||d.code||(a[h]=b([])[g[1]](d));if(d.usage){var e={"search-box":{defaultButton:".btn-search",events:[]}};"object"===b.type(d.usage)&&k.extend(!0,e,d.usage);if("search-box"===d.usage||void 0!==e["search-box"]){void 0!==
d.action&&"add"===d.action||a[h].add();var l=[];c=e["search-box"].events;0<c.length&&k(c).each(function(){l.push(this.target);d.context.find(this.target).on(this.event+"."+a.view.data("pageid"),this.handler)});d.context.on("keyup."+a.view.data("pageid"),":input:not("+l.join(",")+")",function(b){13==(b.keyCode?b.keyCode:b.which?b.which:b.charCode)&&a.view.find(e["search-box"].defaultButton).click()});if(b.browser.is("ie"))d.context.on("keyup."+a.view.data("pageid"),":input",function(a){13==(a.keyCode?
a.keyCode:a.which?a.which:a.charCode)&&this.blur()})}}d.action&&f.push(k.Deferred().done(function(){if("string"===b.type(d.action))a[h][d.action]();else"array"===b.type(d.action)&&1<d.action.length&&a[h][d.action[0]].apply(a[h],d.action.splice(1))}))}else throw b.error(b.message.get(b.context.attr("template").message,"MSG-0005",[a.view.data("pageid")+":"+c]));},events:function(a,c){var f=c.split(".");if(2<f.length){var g=f[2],h="";if("function"===b.type(a[c])){f=f[1];var m=a[c];h="#"}else if("object"===
b.type(a[c]))f=a[c].target,m=a[c].handler;else throw b.error(b.message.get(b.context.attr("template").message,"MSG-0006",[a.view.data("pageid")+":"+c]));var d=b(h+f,a.view),e=d.closest(".list__, .grid__"),l;0<e.length&&0===d.closest("header").length?(e.hasClass("list__")?l=e.instance("list"):e.hasClass("grid__")&&(l=e.instance("grid")),l&&(d=l.tempRowEle.find(h+f),d.is(":radio, :checkbox")&&1<b("[name='"+f+"']",l.tempRowEle).length&&(d=b("[name='"+f+"']",l.tempRowEle)))):d.is(":radio, :checkbox")&&
1<b("[name='"+f+"']",a.view).length&&(d=b("[name='"+f+"']",a.view));d.is("a, button, input[type=button]")?d.button():g&&-1<g.indexOf("click")&&d.css("cursor","pointer");l?(h=d.is(":radio")||d.is(":checkbox")&&1<d.length?">.form__ [name='"+f+"']:radio, >.form__ [name='"+f+"']:checkbox":">.form__ "+h+f,a[c]=e.on(g+"."+a.view.data("pageid"),h,function(){var a=Array.apply(null,arguments);a.push(e.find(">.form__").index(k(this).closest(".form__")));m.apply(this,a)})):a[c]=d.on(g+"."+a.view.data("pageid"),
m)}else throw b.error(b.message.get(b.context.attr("template").message,"MSG-0006",[a.view.data("pageid")+":"+c]));}}}})(N)})(window,jQuery);
