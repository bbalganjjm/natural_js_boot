/*
 Natural-TEMPLATE v0.2.11

 Released under the LGPL v2.1 license
 Date: 2019-02-28T18:00Z

 Copyright 2019 KIM HWANG MAN(bbalganjjm@gmail.com)
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(h,g,a){h instanceof String&&(h=String(h));for(var m=h.length,b=0;b<m;b++){var d=h[b];if(g.call(a,d,b,h))return{i:b,v:d}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(h,g,a){if(h==Array.prototype||h==Object.prototype)return h;h[g]=a.value;return h};$jscomp.getGlobal=function(h){h=["object"==typeof globalThis&&globalThis,h,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var g=0;g<h.length;++g){var a=h[g];if(a&&a.Math==Math)return a}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(h,g){var a=$jscomp.propertyToPolyfillSymbol[g];if(null==a)return h[g];a=h[a];return void 0!==a?a:h[g]};
$jscomp.polyfill=function(h,g,a,m){g&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(h,g,a,m):$jscomp.polyfillUnisolated(h,g,a,m))};$jscomp.polyfillUnisolated=function(h,g,a,m){a=$jscomp.global;h=h.split(".");for(m=0;m<h.length-1;m++){var b=h[m];if(!(b in a))return;a=a[b]}h=h[h.length-1];m=a[h];g=g(m);g!=m&&null!=g&&$jscomp.defineProperty(a,h,{configurable:!0,writable:!0,value:g})};
$jscomp.polyfillIsolated=function(h,g,a,m){var b=h.split(".");h=1===b.length;m=b[0];m=!h&&m in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var d=0;d<b.length-1;d++){var c=b[d];if(!(c in m))return;m=m[c]}b=b[b.length-1];a=$jscomp.IS_SYMBOL_NATIVE&&"es6"===a?m[b]:null;g=g(a);null!=g&&(h?$jscomp.defineProperty($jscomp.polyfills,b,{configurable:!0,writable:!0,value:g}):g!==a&&(void 0===$jscomp.propertyToPolyfillSymbol[b]&&($jscomp.propertyToPolyfillSymbol[b]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(b):
$jscomp.POLYFILL_PREFIX+b),$jscomp.defineProperty(m,$jscomp.propertyToPolyfillSymbol[b],{configurable:!0,writable:!0,value:g})))};$jscomp.polyfill("Array.prototype.find",function(h){return h?h:function(g,a){return $jscomp.findInternal(this,g,a).v}},"es6","es3");
$jscomp.checkStringArgs=function(h,g,a){if(null==h)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(g instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return h+""};
$jscomp.polyfill("String.prototype.startsWith",function(h){return h?h:function(g,a){var m=$jscomp.checkStringArgs(this,g,"startsWith");g+="";var b=m.length,d=g.length;a=Math.max(0,Math.min(a|0,m.length));for(var c=0;c<d&&a<b;)if(m[a++]!=g[c++])return!1;return c>=d}},"es6","es3");
(function(h,g){N.version["Natural-TEMPLATE"]="0.2.11";(function(a){var m=a.template={design:{material:function(b){String.prototype.includes||Object.defineProperty(String.prototype,"includes",{enumerable:!1,writable:!0,value:function(d,c){"number"!==typeof c&&(c=0);return c+d.length>this.length?!1:-1!==this.indexOf(d,c)}});Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,writable:!0,value:function(d,c){var f=Object(this),l=parseInt(f.length)||0;if(0===l)return!1;
c=parseInt(c)||0;0<=c||(c=l+c,0>c&&(c=0));for(var n;c<l;){n=f[c];if(d===n||d!==d&&n!==n)return!0;c++}return!1}});g.getScript("js/natural_js/lib/material/material-components-web.min.js").done(function(d,c,f){g("<link/>",{rel:"stylesheet",type:"text/css",href:"js/natural_js/css/natural.ui."+a.context.attr("template").design+".css"}).appendTo("head");g("<link/>",{rel:"stylesheet",type:"text/css",href:"css/common."+a.context.attr("template").design+".css"}).appendTo("head");g("<link/>",{rel:"stylesheet",
type:"text/css",href:"js/natural_js/lib/material/icon"+(a.browser.is("ie")?"_ie":"")+".css"}).appendTo("head");g("<link/>",{rel:"stylesheet",type:"text/css",href:"js/natural_js/lib/material/material-components-web.min.css"}).appendTo("head");void 0===a.context.attr("ui").button&&(a.context.attr("ui").button={});a.context.attr("ui").button.customStyle=!0;a.context.attr("ui").alert.onBeforeShow=a.context.attr("ui").popup.onBeforeShow=m.aop.design.material.onBeforeShow;a.context.attr("ui").grid.misc.fixedcolHeadMarginTop=
a.browser.is("ie")||a.browser.is("firefox")?-1:0;a.context.attr("ui").grid.misc.fixedcolHeadHeight=a.browser.is("ie")||a.browser.is("firefox")?2:1;a.context.attr("ui").grid.misc.fixedcolBodyMarginTop=a.browser.is("ie")?0:a.browser.is("firefox")?-1:0;b()}).fail(function(d){a.log(d);a.context.attr("template").design=void 0;b()})}},aop:{design:{material:{init:function(b,d){d?(this.button(b),this.textfield(b),this.select(b)):(this.iconButton(b),this.list(b))},button:function(b){a(".mdc-button",b.view).each(function(d,
c){c.className=a.string.trim(c.className.replace(/btn_.*?__/g,""));d=c.getAttribute("data-icon");var f='<div class="mdc-button__ripple"></div>';d&&(d='<span class="material-icons mdc-icon-button__icon">'+d+"</span>",0<a.string.trim(c.innerText).length&&(d+="&nbsp;"),f+=d);0<a.string.trim(c.innerText).length&&(f+='<span class="mdc-button__label">'+c.innerText+"</span>");c.innerHTML=f;mdc.ripple.MDCRipple.attachTo(c)})},iconButton:function(b){a(".mdc-icon-button",b.view).each(function(d,c){c.className=
"material-icons mdc-ripple-upgraded--unbounded mdc-ripple-upgraded "+a.string.trim(c.className.replace(/btn_.*?__/g,""));mdc.ripple.MDCRipple.attachTo(c).unbounded=!0})},onBeforeShow:function(b,d){if(this.options.isInput)return!1;void 0!==this.options.title&&d.find(".msg_box__").css("padding-top",0);d.find(".buttonBox__ .button__").each(function(c,f){f.className="mdc-button "+a.string.trim(f.className.replace(/btn_.*?__/g,""));c=f.getAttribute("data-icon");f.innerHTML='<div class="mdc-button__ripple"></div>'+
(c?'<span class="material-icons mdc-icon-button__icon">'+c+"</span>&nbsp;":"")+'<span class="mdc-button__label">'+f.innerText+"</span>";mdc.ripple.MDCRipple.attachTo(f)})},textfield:function(b){a(".mdc-text-field",b.view).each(function(d,c){c=g(c);var f=c.attr("id"),l=c.data("label"),n=String(Math.random()).replace("0.",""),e=c.data("nolabel")?c.data("nolabel"):!1;c.is("textarea")?(c.addClass("mdc-text-field__input").removeClass("mdc-text-field"),c.attr("aria-label",l),"outlined"===c.data("type")?
(d=c.wrap('<span class="mdc-text-field__resizer"></span>').parent(),d=d.wrap('<label class="mdc-text-field mdc-text-field--outlined mdc-text-field--textarea'+(e?" mdc-text-field--no-label":"")+'"></label>').parent(),d.prepend('<span class="mdc-notched-outline"><span class="mdc-notched-outline__leading"></span><span class="mdc-notched-outline__notch">'+(e?"":'<span class="mdc-floating-label" id="'+f+"-label-"+n+'">'+l+"</span>")+'</span><span class="mdc-notched-outline__trailing"></span></span>')):
(d=c.wrap('<span class="mdc-text-field__resizer"></span>').parent(),d=d.wrap('<label class="mdc-text-field mdc-text-field--filled mdc-text-field--textarea'+(e?" mdc-text-field--no-label":"")+'"></label>').parent(),d.prepend('<span class="mdc-floating-label" id="'+f+"-label-"+n+'">'+l+"</span>"),d.prepend('<span class="mdc-text-field__ripple"></span>'),d.append('<span class="mdc-line-ripple"></span>'))):(c.css({padding:"0",border:"none"}),c.addClass("mdc-text-field__input").removeClass("mdc-text-field"),
c.attr("aria-labelledby",f+"-label-"+n),"outlined"===c.data("type")?(d=c.wrap('<label class="mdc-text-field mdc-text-field--outlined'+(e?" mdc-text-field--no-label":"")+'"></label>').parent(),d.prepend('<span class="mdc-notched-outline"><span class="mdc-notched-outline__leading"></span><span class="mdc-notched-outline__notch">'+(e?"":'<span class="mdc-floating-label" id="'+f+"-label-"+n+'">'+l+"</span>")+'</span><span class="mdc-notched-outline__trailing"></span></span>')):(d=c.wrap('<label class="mdc-text-field mdc-text-field--filled'+
(e?" mdc-text-field--no-label":"")+'"></label>').parent(),e||d.prepend('<span class="mdc-floating-label" id="'+f+"-label-"+n+'">'+l+"</span>"),d.prepend('<span class="mdc-text-field__ripple"></span>'),d.append('<span class="mdc-line-ripple"></span>')),f=c.data("btnid"),l="",f&&(l=' id="'+f+'"'),c.data("trailingicon")?(d.addClass("mdc-text-field--with-trailing-icon"),c.after("<i"+l+' class="material-icons mdc-text-field__icon mdc-text-field__icon--leading" tabindex="0" role="button">'+c.data("trailingicon")+
"</i>")):c.data("format")&&c.data("format")[0]&&"date"===c.data("format")[0][0]&&(d.addClass("mdc-text-field--with-trailing-icon"),n=a('<i class="material-icons mdc-text-field__icon mdc-text-field__icon--leading" tabindex="0" role="button">date_range</i>'),n.on("click.material.textfield.trailing.icon",function(k){k.preventDefault();c.instance("datepicker");c.trigger("focusin.datepicker")}),c.after(n)),c.data("leadingicon")&&(d.addClass("mdc-text-field--with-leading-icon"),c.before("<i"+l+' class="material-icons mdc-text-field__icon mdc-text-field__icon--trailing" tabindex="0" role="button">'+
c.data("leadingicon")+"</i>")),f&&(b["e."+f+".click"]=a("#"+f,b.view).on("click",b["e."+f+".click"])));c.data("md_textfield_inst",mdc.textField.MDCTextField.attachTo(d.get(0)))})},select:function(b){a(".mdc-njs-select",b.view).each(function(d,c){c=a(c);c.attr("required",!0);d=c.wrap('<div class="mdc-njs-select-wrap"></div>').parent();d.append('<span class="mdc-njs-select-highlight"></span>');d.append('<span class="mdc-njs-select-bar"></span>');d.append('<label class="mdc-njs-select-label">'+c.data("label")+
"</label>")})},list:function(b){a(".mdc-list",b.view).each(function(d,c){c=a(c);c.is("ul")&&(d=c.find("li").addClass("mdc-list-item"),d.prepend('<span class="mdc-list-item__ripple"></span>'),d.find("[id]").addClass("mdc-list-item__text"))})}}},codes:function(b,d,c){var f={codeUrl:null,codeKey:null};try{g.extend(!0,f,a.context.attr("template").aop.codes)}catch(p){throw a.error("N.tab",p);}g.extend(!0,f,c);var l=[];c=[];var n=[];for(k in b)"string"===a.type(k)&&a.string.startsWith(k,"p.select.")&&("array"===
a.type(b[k])&&0<b[k].length&&(b[k]=2<b[k].length?{comm:b[k][0],key:b[k][1],val:b[k][2],filter:b[k][3]}:{code:b[k][0],filter:b[k][1]}),b[k].code?l.push(k.split(".")[2]+"|"+b[k].code):b[k].comm?c.push(k.split(".")[2]+"|"+b[k].comm):n.push(k.split(".")[2]+"|select__"));0<n.length&&a(n).each(function(p,q){p=q.split("|");var r=b["p.select."+p[0]];if(r.data)b["p.select."+p[0]]=a("[id='"+p[0]+"']",b.view).filter("select,input[type='checkbox'],input[type='radio']").map(function(u,t){r.context=t;r.filter&&
(r.data=r.filter(r.data));u=a().select(r).bind();r.selected&&u.val(r.selected);return u}).get();else throw a.error(a.message.get(a.context.attr("template").message,"MSG-0001"));});if(0<l.length||0<c.length){var e=[];if(0<l.length){var k=a(l).map(function(p,q){return q.split("|")[1]}).get();e.push(a({codes:null!=k&&0===k.length?void 0:k}).comm({url:f.codeUrl}).submit(function(p){a(l).each(function(q,r){var u=r.split("|"),t=b["p.select."+u[0]];b["p.select."+u[0]]=a("[id='"+u[0]+"']",b.view).filter("select,input[type='checkbox'],input[type='radio']").map(function(v,
w){t.context=w;v=g.grep(p,function(x){return x[f.codeKey]===u[1]});v=a(t.filter?t.filter(v):v).select(t).bind();t.selected&&v.val(t.selected);return v}).get()})}).error(function(p){a.warn(p);throw a.error(a.message.get(a.context.attr("template").message,"MSG-0002"));}).request.obj.xhr)}a(c).each(function(p,q){var r=q.split("|");if(!b[r[1]])throw a.error(a.message.get(a.context.attr("template").message,"MSG-0003",[r[1]]));e.push(b[r[1]]().submit(function(u){var t=b["p.select."+r[0]];b["p.select."+
r[0]]=a("[id='"+r[0]+"']",b.view).filter("select,input[type='checkbox'],input[type='radio']").map(function(v,w){t.context=w;v=a(t.filter?t.filter(u):u).select(t).bind();t.selected&&v.val(t.selected);return v}).get()}).error(function(u){a.warn(u);throw a.error(a.message.get(a.context.attr("template").message,"MSG-0004",[r[0]]));}).request.obj.xhr)});g.when.apply(g,e).done(function(){m.aop.template(b,d)})}else m.aop.template(b,d)},template:function(b,d){a.context.attr("template").design&&m.aop.design[a.context.attr("template").design].init(b);
var c=[],f;for(f in b)"string"===a.type(f)&&a.string.startsWith(f,"p.")&&m.aop.components(b,f,c);for(f in b)"string"===a.type(f)&&a.string.startsWith(f,"e.")&&m.aop.events(b,f);a.context.attr("template").design&&m.aop.design[a.context.attr("template").design].init(b,!0);0<c.length&&(g(c).each(function(){this.resolve()}),c=void 0);d.proceed();setTimeout(function(){b.onOpenDefer&&b.onOpenDefer.resolve()},0)},components:function(b,d,c){var f=d.split(".");if(2<f.length){var l="p."+f[1]+"."+f[2],n=a("#"+
f[2],b.view),e=b[l];void 0!==e&&void 0!==e.context&&(n=a(e.context,b.view));"popup"===f[1]&&"file"===f[2]&&(e.url="file/manager.view",e.top=20,e.onOpen="onOpen",e.overlayClose=!1,e.escClose=!1);if(void 0===e||0===n.length&&void 0===e.context&&0===n.length&&void 0===e.url)throw a.error(a.message.get(a.context.attr("template").message,"MSG-0005",[b.view.data("pageid")+":"+d]));e.context=n;"button"===f[1]||"popup"===f[1]||"tab"===f[1]||"datepicker"===f[1]?((e.url&&"popup"===f[1]||"tab"===f[1])&&void 0===
e.opener&&(e.opener=b),b[l]=e.context[f[1]](e)):"select"===f[1]||e.code||(b[l]=a([])[f[1]](e));if(e.usage){var k={"search-box":{defaultButton:".btn-search",events:[]}};"object"===a.type(e.usage)&&g.extend(!0,k,e.usage);if("search-box"===e.usage||void 0!==k["search-box"]){e.context.addClass("search_box__");void 0!==e.action&&"add"===e.action||b[l].add();var p=[];d=k["search-box"].events;0<d.length&&g(d).each(function(){p.push(this.target);e.context.find(this.target).on(this.event+"."+b.view.data("pageid"),
this.handler)});e.context.on("keyup."+b.view.data("pageid"),":input:not("+p.join(",")+")",function(q){13==(q.keyCode?q.keyCode:q.which?q.which:q.charCode)&&b.view.find(k["search-box"].defaultButton).click()});if(a.browser.is("ie"))e.context.on("keyup."+b.view.data("pageid"),":input",function(q){13==(q.keyCode?q.keyCode:q.which?q.which:q.charCode)&&this.blur()})}}e.action&&c.push(g.Deferred().done(function(){if("string"===a.type(e.action))b[l][e.action]();else"array"===a.type(e.action)&&1<e.action.length&&
b[l][e.action[0]].apply(b[l],e.action.splice(1))}))}else throw a.error(a.message.get(a.context.attr("template").message,"MSG-0005",[b.view.data("pageid")+":"+d]));},events:function(b,d){var c=d.split(".");if(2<c.length){var f=c[2],l="";if("function"===a.type(b[d])){c=c[1];var n=b[d];l="#"}else if("object"===a.type(b[d]))c=b[d].target,n=b[d].handler;else throw a.error(a.message.get(a.context.attr("template").message,"MSG-0006",[b.view.data("pageid")+":"+d]));var e=a(l+c,b.view);if(0<e.length){var k=
e.closest(".list__, .grid__"),p;0<k.length&&0===e.closest("header").length?(k.hasClass("list__")?p=k.instance("list"):k.hasClass("grid__")&&(p=k.instance("grid")),p&&(e=p.tempRowEle.find(l+c),e.is(":radio, :checkbox")&&1<a("[name='"+c+"']",p.tempRowEle).length&&(e=a("[name='"+c+"']",p.tempRowEle)))):e.is(":radio, :checkbox")&&1<a("[name='"+c+"']",b.view).length&&(e=a("[name='"+c+"']",b.view));e.is("a, button, input[type=button]")?e.button():f&&-1<f.indexOf("click")&&e.css("cursor","pointer");p?(l=
e.is(":radio")||e.is(":checkbox")&&1<e.length?">.form__ [name='"+c+"']:radio, >.form__ [name='"+c+"']:checkbox":">.form__ "+l+c,b[d]=k.on(f+"."+b.view.data("pageid"),l,function(){var q=Array.apply(null,arguments);q.push(k.find(">.form__").index(g(this).closest(".form__")));n.apply(this,q)})):b[d]=e.on(f+"."+b.view.data("pageid"),n)}}else throw a.error(a.message.get(a.context.attr("template").message,"MSG-0006",[b.view.data("pageid")+":"+d]));}}}})(N)})(window,jQuery);
